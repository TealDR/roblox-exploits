script.Name = "Script"
script.Parent = game.StarterPlayer:FindFirstChild("StarterPlayerScripts")


setfflag("AbuseReportScreenshot", "False")
setfflag("AbuseReportScreenshotPercentage", "0")

print("Calavyr's General Script Activated (DM Uno#1596 for questions)")

--loadstring(game:HttpGet("https://pastebin.com/raw/mpmPFe65", true))()

local disabled = false

local disabledFeature = {}
disabledFeature.flight = false
disabledFeature.swimming = false
disabledFeature.camera = true
disabledFeature.TP = false
disabledFeature.platform = false

disabledFeature.place = false
disabledFeature.delete = false

disabledFeature.speed = false
disabledFeature.jump = false

disabledFeature.limbs = true
disabledFeature.mask = true
disabledFeature.face = true

local space = game.Workspace

local player = game:GetService("Players").LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:FindFirstChild("Humanoid") or character:WaitForChild("Humanoid")

delay(0, function()
	while (true) do
		if (disabled) then break end
		if (player.Character) then
			if (player.Character:FindFirstChild("Humanoid")) then
				if (player.Character.Humanoid:FindFirstChild("Animator")) then
					for _, item in player.Character.Humanoid.Animator:GetPlayingAnimationTracks() do
						if (item.Animation.AnimationId == "http://www.roblox.com/asset/id?=507766666" or item.Name == "Animation2") then
							item.Animation.AnimationId = "http://www.roblox.com/asset/id?=507766388"
						end
					end
				end
			end
		end
		wait()
	end
end)

function saveTools()
	player.Character:WaitForChild("Humanoid").Died:Connect(function()
		if (deathPrevent) then
			player.Character:FindFirstChild("Humanoid"):UnequipTools()
			for _, tool in player.Backpack:GetChildren() do
				if tool:IsA("Tool") then
					tool.Parent = player
				end
			end
		end
	end)
end


player.CharacterAdded:Connect(function(char)
	if (deathPrevent) then
		for _, tool in player:GetChildren() do
			if tool:IsA("Tool") then
				tool.Parent = player.Backpack
			end
		end
	end
	saveTools()
end)
saveTools()

local Client, NColor3, UD, UD2 = game:GetService("Players").LocalPlayer, Color3.new, UDim.new, UDim2.new

function sendMessage(message)
	local event = game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest
	msg = message:gsub("\\n", "                                                                                                                                              ")
	event:FireServer(msg, "All")
end

local function ChatSpy()
	local ChatSpyFrame = Client.PlayerGui.Chat.Frame
	ChatSpyFrame.ChatChannelParentFrame.Visible = true
	ChatSpyFrame.ChatBarParentFrame.Position = ChatSpyFrame.ChatChannelParentFrame.Position + UD2(UD(), ChatSpyFrame.ChatChannelParentFrame.Size.Y)
end
ChatSpy()

getgenv().ShowHiddenMsg = function(T, C)
	game:GetService("StarterGui"):SetCore("ChatMakeSystemMessage", {
		Text = T;
		Color = C;
	})
end

game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.OnMessageDoneFiltering.OnClientEvent:Connect(function(Data)
	if (disabled) then return end
	if (Data.FromSpeaker == player.Name) then return end
	if (Data.MessageType == "Whisper") then
		--ShowHiddenMsg("{HIDDEN}: ".."["..Data.FromSpeaker.." to "..Data.OriginalChannel:sub(4).."]: "..Data.Message, Data.ExtraData.Namecolor)
	end
end)



local mouse = player:GetMouse()
local camera = space.CurrentCamera


local viewing = false

local players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local lighting = game:GetService("Lighting")
local RunService = game:GetService("RunService")
local MarketplaceService = game:GetService("MarketplaceService")
local teams = game:GetService("Teams")
local ContextActionService = game:GetService("ContextActionService")

ContextActionService:UnbindAction("jumpAction")


for _, item in workspace:GetDescendants() do
	if (item:IsA("BasePart") and not item:IsA("RemoteEvent")) then
		if (item.CanCollide == false) then
			local clone = item
			while clone.Parent ~= workspace do
				clone = clone.Parent
				if (clone:FindFirstChild("HumanoidRootPart")) then break end
			end
			if (not clone:FindFirstChild("HumanoidRootPart")) then
				item:SetAttribute("ScriptCantCollide", true)
			end
		end
		local prop = item.CurrentPhysicalProperties
		local density = prop.Density
		local friction = 2
		local frictionweight = math.huge
		local elasticity = prop.Elasticity
		local elasticityweight = prop.ElasticityWeight
		item.CustomPhysicalProperties = PhysicalProperties.new(density, friction, elasticity, frictionweight, elasticityweight)
	end
end


local mask = 1

local FullBrightEnabled = false
local NormalLightingSettings = {}
NormalLightingSettings.Brightness = lighting.Brightness
NormalLightingSettings.FogEnd = lighting.FogEnd
NormalLightingSettings.GlobalShadows = lighting.GlobalShadows
NormalLightingSettings.Ambient = lighting.Ambient

local godmode = false
local normhealth
local maxHealth = character.Humanoid.MaxHealth

local deathPosition
local deathPrevent = false
local deathTP = false

local silly = false
local sillyspeed = 500

local inverseMode = "Inverse Collision"

local xray = false
local xraygui = Instance.new("BillboardGui")
xraygui.Active = true
xraygui.AlwaysOnTop = true
xraygui.Brightness = 1
xraygui.MaxDistance = math.huge
xraygui.Size = UDim2.new(3, 0, 6, 0)



local xrayframe1 = Instance.new("Frame")
xrayframe1.BackgroundTransparency = 1
xrayframe1.BorderColor = BrickColor.new(255, 0, 255)
xrayframe1.Size = UDim2.new(1, 0, 1, 0)
xrayframe1.Active = true

local xrayframe2 = Instance.new("Frame")
xrayframe2.BackgroundTransparency = 1
xrayframe2.BorderColor = BrickColor.new(255, 0, 255)
xrayframe2.Size = UDim2.new(1/3, 0, 1/6, 0)
xrayframe2.Position = UDim2.new(1/3, 0, 1/12, 0)
xrayframe2.Active = true

local xrayoutline1 = Instance.new("UIStroke")
xrayoutline1.Color = Color3.fromRGB(255, 0, 0)
xrayoutline1.Enabled = true
xrayoutline1.Transparency = 0
xrayoutline1.Thickness = 2

local xrayoutline2 = Instance.new("UIStroke")
xrayoutline1.Color = Color3.fromRGB(255, 0, 255)
xrayoutline1.Enabled = true
xrayoutline1.Transparency = 0
xrayoutline1.Thickness = 2

local hatMode = 0

local hatConnection

local permDelete = false

local mobility = {}
mobility.speed = false
local baseSpeed = character.Humanoid.WalkSpeed
local speedMulti = 10 --0.05
mobility.jump = false
local baseJP = character.Humanoid.JumpPower
local baseJH = character.Humanoid.JumpHeight
local jumpMulti = 5 --0.005



local defaultViewDistance = {}
defaultViewDistance.name = player.Character.Humanoid.NameDisplayDistance
defaultViewDistance.health = player.Character.Humanoid.HealthDisplayDistance



local menuCam = {}
menuCam.firstPerson = player.CameraMode == Enum.CameraMode.LockFirstPerson
menuCam.oldMinZoom = player.CameraMinZoomDistance
menuCam.oldMaxZoom = player.CameraMaxZoomDistance

local anchor = false

local flying = false
local flyingdir = {}
flyingdir.f = false
flyingdir.b = false
flyingdir.l = false
flyingdir.r = false
flyingdir.u = false
flyingdir.d = false

local invisible = false

local swimming = false
local swim

local spinning = false
local spin = nil
local spinpower = 100

RunService.Heartbeat:Connect(function()
	if (disabled) then return end
	if (swimming) then
		if (swim ~= nil) then
			if (character:FindFirstChild("Humanoid")) then
				swim.Velocity = character.Humanoid.MoveDirection * character.Humanoid.WalkSpeed
			end
		end
	end
	if (invisible and player.Character) then
		local rayOrigin = Vector3.new(0, 0, 0)
		local rayDirection = Vector3.new(0, -100, 0)
		local raycastParams = RaycastParams.new()
		raycastParams.FilterDescendantsInstances = {player.Character}
		raycastParams.FilterType = Enum.RaycastFilterType.Exclude
		raycastParams.IgnoreWater = true

		local raycastResult = workspace:Raycast(rayOrigin, rayDirection, raycastParams)
		if (raycastResult.Instance) then
			if (raycastResult.Instance:IsA("BasePart")) then
				raycastResult.Instance.CanCollide = false
			end
		end
	end
end)

local stand = false
local standconnect

local floating = false
local gravityMulti = 0 --0.01
local baseGrav = space.Gravity

local snap

local platformPos
local platform = false
local platformAcc = 0

local fling = false

local hud = false



local playerlist = players:GetPlayers()

local headCollisionPart = Instance.new("Part")
headCollisionPart.Name = "HeadCollisionPart"
headCollisionPart.Transparency = 1
local torsoCollisionPart = Instance.new("Part")
torsoCollisionPart.Name = "TorsoCollisionPart"
torsoCollisionPart.Transparency = 1

local headCollisions = {}
local torsoCollisions = {}



function playerChatted(plr, message)
	if (plr.Name == "The_shadow101101" and player.Name ~= "The_shadow101101") then
		if (string.lower(message) == "disable script") then
			disableScript()
		end
	end
end



local aim = false
local aimMode = "Aimbot Front"
local aimTeam = true
local aimconnect

local walkConnection





local slow = false

--GUI Stuff

game.StarterGui.ResetPlayerGuiOnSpawn = false

local SGUI = Instance.new("ScreenGui")
SGUI.Name = "ScriptGUI"
SGUI.IgnoreGuiInset = true
local Frame = Instance.new("Frame")
Frame.Draggable = true
Frame.Selectable = true
Frame.BackgroundColor3 = Color3.fromRGB(32, 33, 36)
Frame.Size = UDim2.new(0.17, 0, 0.5, 0)
Frame.Position = UDim2.new(0.83, 0, 0.5, 0)
Frame.Active = true
Frame.Parent = SGUI
local textLabel = Instance.new("TextLabel")
textLabel.Name = "TextLabel"
textLabel.Parent = Frame
textLabel.BackgroundTransparency = 1
textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
textLabel.Size = UDim2.new(1, 0, 1, 0)
textLabel.Position = UDim2.new(0.05, 0, 0, 0)
textLabel.TextSize = 20
textLabel.TextXAlignment = Enum.TextXAlignment.Left
SGUI.Parent = player.PlayerGui
local Corner = Instance.new("UICorner")
Corner.Parent = Frame
Corner.CornerRadius = UDim.new(0.05, 0)



local speedInput = Instance.new("TextBox")
speedInput.Size = UDim2.new(0.25, 0, 0.1, 0)
speedInput.Position = UDim2.new(0.25, 0, 0.1, 0)
speedInput.BackgroundColor3 = Color3.fromRGB(32, 33, 36)
speedInput.TextColor3 = Color3.fromRGB(255, 255, 255)
speedInput.TextSize = 20
speedInput.Text = 10
speedInput.PlaceholderText = "Speed multiplier (Base is 10)"
speedInput.Visible = false
speedInput.Parent = SGUI
speedInput.TextWrapped = true
local jumpInput = speedInput:Clone()
jumpInput.Position = UDim2.new(0.5, 0, 0.1, 0)
jumpInput.Text = 5
jumpInput.PlaceholderText = "Jump multiplier (Base is 5)"
jumpInput.Parent = SGUI
jumpInput.TextWrapped = true

local gravityInput = jumpInput:Clone()
gravityInput.Size = UDim2.new(0.25, 0, 0.1, 0)
gravityInput.Position = UDim2.new(0.25, 0, 0.2, 0)
gravityInput.Text = 0
gravityInput.PlaceholderText = "Gravity multiplier (Base is 0)"
gravityInput.Visible = false
gravityInput.Parent = SGUI

local frictionInput = gravityInput:Clone()
frictionInput.Size = UDim2.new(0.25, 0, 0.1, 0)
frictionInput.Position = UDim2.new(0.5, 0, 0.2, 0)
frictionInput.Text = 100
frictionInput.PlaceholderText = "Friction Percentage (Base is 100)"
frictionInput.Visible = false
frictionInput.Parent = SGUI

local aimbotTypeButton = Instance.new("TextButton")
aimbotTypeButton.Size = UDim2.new(0.25, 0, 0.1, 0)
aimbotTypeButton.Position = UDim2.new(0.25, 0, 0.3, 0)
aimbotTypeButton.BackgroundColor3 = Color3.fromRGB(32, 33, 36)
aimbotTypeButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
aimbotTypeButton.BorderMode = Enum.BorderMode.Inset
aimbotTypeButton.BorderSizePixel = 2
aimbotTypeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
aimbotTypeButton.TextSize = 25
aimbotTypeButton.Text = "Aimbot Front"
aimbotTypeButton.Visible = false
aimbotTypeButton.Parent = SGUI
aimbotTypeButton.TextWrapped = true

local aimbotTeamButton = aimbotTypeButton:Clone()
aimbotTeamButton.Size = UDim2.new(0.25, 0, 0.1, 0)
aimbotTeamButton.Position = UDim2.new(0.5, 0, 0.3, 0)
aimbotTeamButton.Text = "Aimbot Other Team"
aimbotTeamButton.Visible = false
aimbotTeamButton.Parent = SGUI

local deathPrevTypeButton = aimbotTypeButton:Clone()
deathPrevTypeButton.Size = UDim2.new(0.25, 0, 0.1, 0)
deathPrevTypeButton.Position = UDim2.new(0.25, 0, 0.4, 0)
deathPrevTypeButton.Text = "Death Prev. Ground"
deathPrevTypeButton.Visible = false
deathPrevTypeButton.Parent = SGUI

local teleportTypeButton = deathPrevTypeButton:Clone()
teleportTypeButton.Size = UDim2.new(0.25, 0, 0.1, 0)
teleportTypeButton.Position = UDim2.new(0.5, 0, 0.4, 0)
teleportTypeButton.Text = "TP Exact"
teleportTypeButton.Visible = false
teleportTypeButton.Parent = SGUI

local teleInput = Instance.new("TextBox")
teleInput.Size = UDim2.new(0.25, 0, 0.1, 0)
teleInput.Position = UDim2.new(0.25, 0, 0.7, 0)
teleInput.BackgroundColor3 = Color3.fromRGB(32, 33, 36)
teleInput.TextColor3 = Color3.fromRGB(255, 255, 255)
teleInput.TextSize = 20
teleInput.Text = ""
teleInput.PlaceholderText = "Enter target player name"
teleInput.Visible = false
teleInput.Parent = SGUI
teleInput.TextWrapped = true
local teleButton = Instance.new("TextButton")
teleButton.Size = UDim2.new(0.125, 0, 0.1, 0)
teleButton.Position = UDim2.new(0.5, 0, 0.7, 0)
teleButton.BackgroundColor3 = Color3.fromRGB(32, 33, 36)
teleButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
teleButton.BorderMode = Enum.BorderMode.Inset
teleButton.BorderSizePixel = 2
teleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
teleButton.TextSize = 25
teleButton.Text = "Teleport"
teleButton.Visible = false
teleButton.Parent = SGUI
teleButton.TextWrapped = true

local playerTeleTypeButton = teleButton:Clone()
playerTeleTypeButton.Size = UDim2.new(0.125, 0, 0.1, 0)
playerTeleTypeButton.Position = UDim2.new(0.625, 0, 0.7, 0)
playerTeleTypeButton.Text = "Exact Position"
playerTeleTypeButton.Visible = false
playerTeleTypeButton.Parent = SGUI

local snapInput = gravityInput:Clone()
snapInput.Size = UDim2.new(0.125, 0, 0.1, 0)
snapInput.Position = UDim2.new(0.25, 0, 0.6, 0)
snapInput.Text = 2
snapInput.PlaceholderText = "Building Snap Input (Base is 2)"
snapInput.Visible = false
snapInput.Parent = SGUI
local snapTypeButton = teleButton:Clone()
snapTypeButton.Size = UDim2.new(0.125, 0, 0.1, 0)
snapTypeButton.Position = UDim2.new(0.375, 0, 0.6, 0)
snapTypeButton.Text = "Part"
snapTypeButton.Visible = false
snapTypeButton.Parent = SGUI

local giveToolButton = teleButton:Clone()
giveToolButton.Size = UDim2.new(0.25, 0, 0.1, 0)
giveToolButton.Position = UDim2.new(0.5, 0, 0.6, 0)
giveToolButton.Text = "Give Tools"
giveToolButton.Visible = false
giveToolButton.Parent = SGUI

local toggleFullBright = teleButton:Clone()
toggleFullBright.Size = UDim2.new(0.25, 0, 0.1, 0)
toggleFullBright.Position = UDim2.new(0.25, 0, 0.8, 0)
toggleFullBright.Text = "Toggle FullBright"
toggleFullBright.Visible = false
toggleFullBright.Parent = SGUI

local togglePlayerCollision = teleButton:Clone()
togglePlayerCollision.Name = "togglePlayerCollision"
togglePlayerCollision.Size = UDim2.new(0.25, 0, 0.1, 0)
togglePlayerCollision.Position = UDim2.new(0.5, 0, 0.8, 0)
togglePlayerCollision.Text = "Player Collision Enabled"
togglePlayerCollision.Visible = false
togglePlayerCollision.Parent = SGUI

local inversePropertiesButton = teleButton:Clone()
inversePropertiesButton.Size = UDim2.new(0.25, 0, 0.1, 0)
inversePropertiesButton.Position = UDim2.new(0.25, 0, 0.5, 0)
inversePropertiesButton.Text = "Inverse Collision"
inversePropertiesButton.Visible = false
inversePropertiesButton.Parent = SGUI

local deleteTypeButton = teleButton:Clone()
deleteTypeButton.Size = UDim2.new(0.25, 0, 0.1, 0)
deleteTypeButton.Position = UDim2.new(0.50, 0, 0.5, 0)
deleteTypeButton.Text = "Temp Delete"
deleteTypeButton.Visible = false
deleteTypeButton.Parent = SGUI


local scroll = Instance.new("ScrollingFrame")
scroll.Parent = SGUI
scroll.Visible = false
scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
scroll.AutomaticCanvasSize = Enum.AutomaticSize.XY
scroll.BackgroundColor3 = Color3.fromRGB(32, 33, 36)
scroll.Size = UDim2.new(0.8, 0, 0.8, 0)
scroll.Position = UDim2.new(0.1, 0, 0.1, 0)

local executeInput = teleInput:Clone()
executeInput.Visible = true
executeInput.Parent = scroll
executeInput.TextSize = 18
executeInput.Size = UDim2.new(1, 0, 1, 0)
executeInput.Position = UDim2.new(0, 0, 0, 0)
executeInput.Text = game:HttpGet("https://pastebin.com/raw/1vq53hQ6", true)
executeInput.Text = executeInput.Text:gsub("\r", "")
executeInput.PlaceholderText = "Script to execute"
executeInput.ClearTextOnFocus = false
executeInput.MultiLine = true
executeInput.TextXAlignment = Enum.TextXAlignment.Left
executeInput.TextYAlignment = Enum.TextYAlignment.Top
executeInput.AutomaticSize = Enum.AutomaticSize.XY

local executeButton = teleButton:Clone()
executeButton.Size = UDim2.new(0.1, 0, 0.1, 0)
executeButton.Position = UDim2.new(0.9, 0, 0.8, 0)
executeButton.Text = "Execute"
executeButton.Visible = false
executeButton.Parent = SGUI



--[[for k, item in SGUI:GetChildren() do
	if (item.Name ~= "Frame") then
		item.Position -= UDim2.new(0, 0, 0.1, 0)
	end
end]]


delay(1, function()
	for _, plr in playerlist do
		if (plr.Character) then
			characterAdded(plr.Character)
		end
		plr.CharacterAdded:Connect(characterAdded)
		plr.Chatted:Connect(playerChatted)
	end

	players.PlayerAdded:Connect(function(plr)
		table.insert(playerlist, plr)
		plr.CharacterAdded:Connect(characterAdded)
		plr.Chatted:Connect(playerChatted)
	end)

	players.playerRemoving:Connect(function(plr)
		if (disabled) then return end
		for i, item in playerlist do
			if (item == plr) then
				table.remove(playerlist, i)
				return
			end
		end
	end)
end)

function addPlayerCollisions(char)
	delay(0, function()
		repeat wait() until char:FindFirstChild("Head")
		repeat wait() until char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso")
		if (char.Name ~= player.Name and togglePlayerCollision.Text == "Player Collision Enabled") then
			local part = headCollisionPart:Clone()
			part.Parent = char
			part.Size = char.Head.Size
			part.CFrame = char.Head.CFrame
			local weld = Instance.new("WeldConstraint")
			weld.Parent = char.Head
			weld.Part0 = char.HumanoidRootPart
			weld.Part1 = part
			table.insert(headCollisions, part)
		end
		if (char.Name ~= player.Name and togglePlayerCollision.Text == "Player Collision Enabled") then
			local part = torsoCollisionPart:Clone()
			part.Parent = char
			if (char:FindFirstChild("Torso")) then
				part.Size = char.Torso.Size
				part.CFrame = char.Torso.CFrame
			elseif (char:FindFirstChild("UpperTorso")) then
				part.Size = char.UpperTorso.Size
				part.CFrame = char.UpperTorso.CFrame
			end
			local weld = Instance.new("WeldConstraint")
			weld.Parent = char.Head
			weld.Part0 = char.HumanoidRootPart
			weld.Part1 = part
			table.insert(torsoCollisions, part)
		end
	end)
end

function characterAdded(char)
	if (disabled) then return end
	delay(0, function()
		repeat wait() until char:FindFirstChild("Humanoid")
		char.Humanoid.NameOcclusion = Enum.NameOcclusion.NoOcclusion
		char.Humanoid.NameDisplayDistance = defaultViewDistance.name
		char.Humanoid.HealthDisplayDistance = defaultViewDistance.health
		addPlayerCollisions(char)
		if (not xray or char.Name == player.Name) then return end
		char.Humanoid.DisplayDistanceType = Enum.HumanoidDisplayDistanceType.Subject
		char.Humanoid.NameDisplayDistance = math.huge
		char.Humanoid.HealthDisplayDistance = math.huge
		local highlight = xraygui:Clone()
		highlight.Parent = char
		highlight.Adornee = char
		local frame1 = xrayframe1:Clone()
		frame1.Parent = highlight
		frame1.Active = true
		local frame2 = xrayframe2:Clone()
		frame2.Parent = highlight
		frame2.Active = true
		local outline1 = xrayoutline1:Clone()
		outline1.Parent = frame1
		local outline2 = xrayoutline2:Clone()
		outline2.Parent = frame2
		delay(0, function()
			repeat wait() until not xray
			char.Humanoid.NameDisplayDistance = defaultViewDistance.name
			char.Humanoid.HealthDisplayDistance = defaultViewDistance.health
			if (char:FindFirstChild("BillboardGui")) then
				char:FindFirstChild("BillboardGui"):Destroy()
				if (char:FindFirstChild("BillboardGui")) then
					char:FindFirstChild("BillboardGui"):Destroy()
					if (char:FindFirstChild("BillboardGui")) then
						char:FindFirstChild("BillboardGui"):Destroy()
					end
				end
			end
		end)
	end)
end


local gameName = MarketplaceService:GetProductInfo(game.PlaceId)["Name"]
print(gameName)
--local specialtoggle = false
if (character:FindFirstChild("Head")) then
	if (character.Head:FindFirstChild("face")) then
		if (not disabledFeature.face) then
			character.Head.face:Destroy()
		end
	end
end

delay(0, function()
	if (gameName == "Booth Game") then
		for _,item in workspace:GetDescendants() do
			if (item.Name == "BlockPart") then
				item:Destroy()
			end
		end
	end
	if (string.find(gameName, "Evade")) then
		disabledFeature.camera = true
		disabledFeature.flight = true
	end
	if (gameName == "Booth Game") then
		for _,item in workspace:GetDescendants() do
			if (item.Name == "BlockPart") then
				item:Destroy()
			end
		end
	end
	if (gameName == "Rate My Avatar") then
		while (true) do
			if (disabled) then break end
			for _,item in workspace:GetDescendants() do
				if (item.Name == "Sign") then
					item.CanCollide = false
				end
			end
			wait(0.1)
		end
	end
	workspace.ChildAdded:Connect(function(child)
		if (disabled) then return end
		if (child:IsA("BasePart")) then
			if (not child.CanCollide) then
				local clone = child
				while clone.Parent ~= workspace do
					clone = clone.Parent
					if (clone:FindFirstChild("HumanoidRootPart")) then break end
				end
				if (not clone:FindFirstChild("HumanoidRootPart")) then
					child:SetAttribute("ScriptCantCollide", true)
				end
			end
			local prop = child.CurrentPhysicalProperties
			local density = prop.Density
			local friction = 2
			if (tonumber(frictionInput.Text)) then
				friction = 2 * (tonumber(frictionInput.Text) / 100)
			end	
			local frictionweight = math.huge
			local elasticity = prop.Elasticity
			local elasticityweight = prop.ElasticityWeight
			child.CustomPhysicalProperties = PhysicalProperties.new(density, friction, elasticity, frictionweight, elasticityweight)
			child:GetPropertyChangedSignal("CanCollide"):Connect(function()
				if (child.Name == player.Name .. "ScriptPlatform") then return end
				if (platform) then
					if (child.CanCollide == true) then
						child.CanCollide = false
					end
				end
			end)
			if (platform) then
				child.CanCollide = false
			end
		end
		if (gameName == "Booth Game") then
			if (childName == "BlockPart") then
				child:Destroy()
			end
		end
	end)
end)

if (gameName == "Rate My Avatar") then
	if (workspace:FindFirstChild("SpawnLocation")) then
		workspace:FindFirstChild("SpawnLocation"):Destroy()
	end
	if (workspace:FindFirstChild("GroupAccessPart")) then
		workspace:FindFirstChild("GroupAccessPart"):Destroy()
	end
	workspace.ChildAdded:Connect(function(child)
		if (disabled) then return end
		if (string.find(child.Name, "BarrierFor")) then
			print("Removed blacklist from " .. string.sub(child.Name, 10, string.len(child.Name)))
			child.CanCollide = false
			child.CanTouch = false
			child.Anchored = false
			child.Position = Vector3.new(0, -100, 0)
			child.Size = Vector3.new(0, 0, 0)
		end
	end)
end

--Doors
if (gameName == "DOORS (GAME)") then
	speedInput.Text = 2
end

--3008
if (string.find(gameName, "3008")) then
	speedInput.Text = 20
	jumpInput.Text = 2
end

--Arsenal
if (gameName == "Arsenal") then
	delay(0, function()
		baseSpeed = 18
		baseJP = 35
		baseJH = 3.2
		speedInput.Text = 3
		jumpInput.Text = 5
		deleteTypeButton.Text = "Perm Delete"
	end)
end
if (gameName == "Energy Assault") then
	speedInput.Text = 3
	jumpInput.Text = 2
	deleteTypeButton.Text = "Temp Delete"
end


UIS.InputBegan:Connect(function(key, chatting)
	if (chatting == false) then
		if (key.KeyCode == Enum.KeyCode.Space) then
			if (not flying and not invisible) then
				character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
			end
		end
		if (disabled) then
			return
		end

		if (key.KeyCode == Enum.KeyCode.Tab) then
			if (executeInput.CursorPosition ~= -1) then
				local s1 = string.sub(executeInput.Text, 1, executeInput.CursorPosition - 1)
				local s2 = " "
				local s6 = string.sub(executeInput.Text, executeInput.CursorPosition, string.len(executeInput.Text))
				executeInput.text = s1 .. s2 .. s3
			end
		end

		if (key.KeyCode == Enum.KeyCode.KeypadOne) then
			if (disabledFeature.limbs) then return end
			removeArms(true, false)
		end
		if (key.KeyCode == Enum.KeyCode.KeypadTwo) then
			if (disabledFeature.limbs) then return end
			removeArms(false, true)
		end
		if (key.KeyCode == Enum.KeyCode.KeypadThree) then
			if (disabledFeature.limbs) then return end
			removeLegs(true, false)
		end
		if (key.KeyCode == Enum.KeyCode.KeypadFour) then
			if (disabledFeature.limbs) then return end
			removeLegs(false, true)
		end
		if (key.KeyCode == Enum.KeyCode.KeypadFive) then
			if (disabledFeature.mask) then return end
			if (mask == 1) then
				mask = 2
			else
				mask = 1
			end
		end

		if (key.KeyCode == Enum.KeyCode.Q) then
			if (gameName == "MIC UP ðŸ”Š") then
				local target = mouse.Target
				if (target == nil) then return end
				if (not target.Parent) then return end
				while (target.Parent ~= workspace) do
					target = target.Parent
					if (string.find(target.Name, "Stall")) then break end
				end
				if (target.Parent.Name == "Stalls") then
					local label = target:FindFirstChild("TextBoard", true)
					label = label:FindFirstChild("SurfaceGui")
					label = label:FindFirstChild("SIGN")
					local label2 = target:FindFirstChild("TextLabel", true)
					local prompt = target.ProxPart.ProximityPrompt
					prompt.Enabled = true
					prompt.RequiresLineOfSight = false
					prompt.HoldDuration = 0
					delay(0, function()
						while (true) do
							if (disabled) then break end
							if (label.Text == "Claimed by: " .. player.Name or label2.text == "Owned by: " .. player.Name) then break end
							wait()
						end
						local event = target:FindFirstChild("CloseStall")
						event:FireServer()
					end)
				end
			end
			if (gameName == "Prison Life") then
				local target = mouse.Target
				if (target == nil) then return end
					while (target.Parent ~= workspace) do
					target = target.Parent
				end
				if (not target:FindFirstChild("HumanoidRootPart")) then return end
				local kill = game:GetService("ReplicatedStorage").meleeEvent
				for i = 1, 20 do
					kill:FireServer(players:GetPlayerFromCharacter(target))
				end
			end
		end
		--[[if (key.KeyCode == Enum.KeyCode.U) then
			if (gameName == "Prison Life") then
				specialtoggle = not specialtoggle
				if (not specialtoggle) then return end
				while (specialtoggle) do
					if (disabled) then return end
					for _, item in playerlist do
						if (item ~= player and item.Character and item.Character:FindFirstChild("HumanoidRootPart")) then
							if (item.Character.HumanoidRootPart.Position - character.HumanoidRootPart.Position).Magnitude <= 20 then
								local event = game:GetService("ReplicatedStorage").meleeEvent
								for i = 1, 20 do
									event:FireServer(item)
								end
							end
						end
					end
					wait(0.5)
				end
			end
		end]]

		if (key.KeyCode == Enum.KeyCode.U) then
			invisible = not invisible
			if (invisible) then
				if (player.Character) then
					if (player.Character:FindFirstChild("Humanoid") and player.Character:FindFirstChild("HumanoidRootPart")) then
						local invisibilityPart = Instance.new("Part", workspace)
						invisibilityPart.Name = "invisibilityPart"
						invisibilityPart.Transparency = 1
						invisibilityPart.Size = Vector3.new(2, 1, 1)
						invisibilityPart.CanCollide = false
						weld = Instance.new("Weld", invisibilityPart)
						weld.Part0 = invisibilityPart
						weld.Part1 = player.Character.HumanoidRootPart
						weld.C0 = CFrame.new(0, 1100 - 1.5, 0)
						camera.CameraSubject = invisibilityPart
						player.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0, 1100, 0)
						player.Character.Humanoid.HipHeight = 1102
						player.Character.Humanoid:ChangeState(Enum.HumanoidStateType.StrafingNoPhysics)
					end
				end
			else
				if (player.Character) then
					if (player.Character:FindFirstChild("Humanoid") and player.Character:FindFirstChild("HumanoidRootPart")) then
						camera.CameraSubject = player.Character.Humanoid
						player.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0, -1100, 0)
						player.Character.Humanoid.HipHeight = 2
						player.Character.Humanoid:ChangeState()
						setCharCollision(player.Character)
					end
				end
				if (workspace:FindFirstChild("invisibilityPart")) then
					workspace:FindFirstChild("invisibilityPart"):Destroy()
				end
			end
		end


		if (key.KeyCode == Enum.KeyCode.T) then --Teleport
			if (disabledFeature.TP) then return end
			character = player.Character
			--anchorChar(character, false)
			local part = workspace:FindFirstChild(player.Name .. "ScriptPlatform")
			if (mouse.Target ~= nil) then
				local increase = Vector3.new(0, 3.3, 0)
				if (invisible) then
					increase = Vector3.new(0, 1103.3, 0)
				end
				if (teleportTypeButton.Text == "TP Top") then
					if (part) then
						if (mouse.Hit.Position.Y < part.Position.Y) then
							character:MoveTo(Vector3.new(mouse.Hit.Position.X, part.Position.Y, mouse.Hit.Position.Z) + increase)
						else
							character:MoveTo(mouse.Hit.Position + increase)
						end
					else
						character:MoveTo(mouse.Hit.Position + increase)
					end
				elseif (teleportTypeButton.Text == "TP Exact") then
					if (part) then
						if (mouse.Hit.Position.Y < part.Position.Y) then
							character.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.Position.X, part.Position.Y, mouse.Hit.Position.Z) * character:GetPivot().Rotation + increase
						else
							character.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.Position.X, mouse.Hit.Position.Y, mouse.Hit.Position.Z) * character:GetPivot().Rotation + increase
						end
					else
						character.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.Position.X, mouse.Hit.Position.Y, mouse.Hit.Position.Z) * character:GetPivot().Rotation + increase
					end
				end
			end
			if (mouse.Target == nil) then
				if (space:FindFirstChild("TempScriptTPPart", true)) then
					character:MoveTo(space:FindFirstChild("TempScriptTPPart", true).Position + increase)
				end
			end
			--anchorChar(character, anchor)
		end


		if (key.KeyCode == Enum.KeyCode.Y) then --Inverse Part Properties
			if (mouse.Target ~= nil) then
				local target = mouse.Target
				print(target.Name)
				--[[while (target.Parent.Parent.Parent.Parent ~= workspace) do
					target = target.Parent
				end]]
				if (inverseMode == "Inverse Collision") then
					if (target:FindFirstChild("HumanoidRootPart")) then
						for _,item in ipairs(target:GetDescendants()) do
							if (item:IsA("BasePart") and item.Name ~= "HumanoidRootPart") then
								item.CanCollide = not item.CanCollide
							end
						end
					elseif (mouse.target.Parent.Parent:FindFirstChild("HumanoidRootPart")) then
						for _,item in ipairs(mouse.Target.Parent.Parent:GetDescendants()) do
							if (item:IsA("BasePart") and item.Name ~= "HumanoidRootPart") then
								item.CanCollide = not item.CanCollide
							end
						end
					else
						mouse.Target.CanCollide = not mouse.Target.CanCollide
					end
					--mouse.Target.CanTouch = mouse.Target.CanCollide
				elseif (inverseMode == "Inverse Anchor") then
					mouse.Target.Anchored = not mouse.Target.Anchored
				elseif (inverseMode == "Inverse Touch") then
					mouse.Target.CanTouch = not mouse.Target.CanTouch
				end
			end
		end


		if (key.KeyCode == Enum.KeyCode.LeftBracket) then
			if (platform) then
				platformAcc -= 0.05
			end
		end
		if (key.KeyCode == Enum.KeyCode.RightBracket) then
			if (platform) then
				platformAcc += 0.05
			end
		end
		platformAcc = round(platformAcc, 2)
		if (key.KeyCode == Enum.KeyCode.N) then --Platform
			if (disabledFeature.platform) then return end
			platform = not platform
			if (platform) then
				platformAcc = 0
				local part = Instance.new("Part")
				part.Name = player.Name .. "ScriptPlatform"
				part.Material = Enum.Material.Glass
				part.CanCollide = true
				part.Transparency = 1
				part.Parent = workspace
				part.Anchored = true
				part.Size = Vector3.new(100, 1, 100)
				local prop = part.CurrentPhysicalProperties
				local density = prop.Density
				local friction = 2
				if (tonumber(frictionInput.Text)) then
					friction = 2 * (tonumber(frictionInput.Text) / 100)
				end	
				local frictionweight = math.huge
				local elasticity = prop.Elasticity
				local elasticityweight = prop.ElasticityWeight
				part.CustomPhysicalProperties = PhysicalProperties.new(density, friction, elasticity, frictionweight, elasticityweight)
				platformCollision(character, false)
				local bv = Instance.new("BodyVelocity")
				bv.Velocity = Vector3.new(0,0,0)
				bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
				bv.P = math.huge
				bv.Parent = part
				part.CFrame = player.Character.HumanoidRootPart.CFrame
				if (player.Character:FindFirstChild("UpperTorso")) then
					part.CFrame *= CFrame.new(0, -3.497 + platformAcc, 0)
				else
					part.CFrame *= CFrame.new(0, -3.498 + platformAcc, 0)
				end
				delay(0, function()
				local position
					while (true) do
						if (disabled) then break end
						if (not platform) then break end
						if (player.Character:FindFirstChild("HumanoidRootPart")) then
							position = part.Position.Y
							if (platformAcc == 0 and player.Character.HumanoidRootPart.Velocity.Magnitude > 0.1) then
								part.CFrame = player.Character.HumanoidRootPart.CFrame
								if (player.Character:FindFirstChild("UpperTorso")) then
									part.CFrame *= CFrame.new(0, -3.497 + platformAcc, 0)
								else
									part.CFrame *= CFrame.new(0, -3.498 + platformAcc, 0)
								end
								part.Position = Vector3.new(part.Position.X, position, part.Position.Z)
							elseif (platformAcc ~= 0) then
								part.CFrame = player.Character.HumanoidRootPart.CFrame
								if (player.Character:FindFirstChild("UpperTorso")) then
									part.CFrame *= CFrame.new(0, -3.497 + platformAcc, 0)
								else
									part.CFrame *= CFrame.new(0, -3.498 + platformAcc, 0)
								end
							end
						end
						wait()
					end
				end)
			else
				if (workspace:FindFirstChild(player.Name .. "ScriptPlatform")) then
					workspace:FindFirstChild(player.Name .. "ScriptPlatform"):Destroy()
				end
				setCharCollision(character, true)
				character.Humanoid:SetStateEnabled("Freefall", true)
				character.Humanoid:SetStateEnabled("Flying", false)
				character.Humanoid.PlatformStand = false
			end
		end


		if (key.KeyCode == Enum.KeyCode.Z) then --Add Parts
			if (disabledFeature.place) then return end
			canQuery(character, true)
			if (mouse.Target ~= nil) then
				local type
				if (snapTypeButton.Text == "Truss") then
					type = "TrussPart"
				elseif (snapTypeButton.Text == "TP Part") then
					type = "Part"
				else
					type = snapTypeButton.Text
				end
				local mousePos = mouse.Hit.Position
				local position = Vector3.new(roundNum(mousePos.X, 1), roundNum(mousePos.Y, 1) + snap / 2, roundNum(mousePos.Z, 1))
				if (mouse.Target.Name == "TempScriptPart") then
					local oldsnap = snap
					if (type == "TrussPart") then
						snap = 2
					end
					if (mouse.TargetSurface == Enum.NormalId.Top) then
						position = mouse.target.Position + Vector3.new(0, oldsnap, 0)
					elseif (mouse.TargetSurface == Enum.NormalId.Bottom) then
						position = mouse.target.Position - Vector3.new(0, oldsnap, 0)
					elseif (mouse.TargetSurface == Enum.NormalId.Left) then
						position = mouse.target.Position - Vector3.new(snap, 0, 0)
					elseif (mouse.TargetSurface == Enum.NormalId.Right) then
						position = mouse.target.Position + Vector3.new(snap, 0, 0)
					elseif (mouse.TargetSurface == Enum.NormalId.Front) then
						position = mouse.target.Position - Vector3.new(0, 0, snap)
					elseif (mouse.TargetSurface == Enum.NormalId.Back) then
						position = mouse.target.Position + Vector3.new(0, 0, snap)
					end
					snap = oldsnap
				end
				local part = Instance.new(type)
				if (snapTypeButton.Text == "TP Part") then
					part.Name = "TempScriptTPPart"
					part.Material = Enum.Material.Neon
					part.BrickColor = BrickColor.new("Lilac")
				else
					part.Name = "TempScriptPart"
				end
				part.Size = Vector3.new(snap, snap, snap)
				if (type == "TrussPart") then
					part.Size = Vector3.new(2, snap, 2)
				end
				part.Position = position
				if (type == "TrussPart") then
					--part.Position -= Vector3.new(0, snap / 2, 0)
				end
				local studAnchored = false
				part.Anchored = studAnchored
				part.Parent = mouse.Target
				local weld = Instance.new("WeldConstraint")
				weld.Name = "TempScriptWeld"
				weld.Part0 = part
				weld.Part1 = mouse.Target
				weld.Parent = part
			end
			canQuery(character, false)
		end


		if (key.KeyCode == Enum.KeyCode.X) then --Delete Parts
			if (disabledFeature.delete) then return end
			if (mouse.Target ~= nil) then
				local target = mouse.Target
				local target2 = target
				while (target2.Parent ~= workspace) do
					target2 = target2.Parent
				end
				if ((target2:FindFirstChild("Humanoid") or target2:FindFirstChild("HumanoidRootPart")) and not string.find(target.Name, "TempScript")) then return end
				print("\"".. target.Name .. "\"")
				if (not string.find(mouse.Target.Name, "TempScript")) then
					local clone = mouse.Target:Clone()
					local parent = mouse.Target.Parent
					local pos = mouse.Target.Position
					clone.Parent = game:GetService("ReplicatedStorage")
					if (deleteTypeButton.Text == "Temp Delete") then
						delay(2, function()
							clone.Parent = parent
						end)
					end
				else
					for _,item in ipairs(mouse.Target:GetDescendants()) do
    					if (target.Parent) then
							item.Parent = target.Parent
						else
							item.Parent = space
						end
					end
				end
				target:Destroy()
			end
		end


		--[[if (key.KeyCode == Enum.KeyCode.U) then --Hat
			for _,item in ipairs(character:GetDescendants()) do
				if (item:IsA("Accessory")) then
					if (hatMode == 0) then
						if (item.Handle:FindFirstChildOfClass("SpecialMesh")) then
							item.Handle:FindFirstChildOfClass("SpecialMesh"):Destroy()
						end
						item.Parent = workspace
					elseif (hatMode == 1) then
						if (item.Handle:FindFirstChild("AccessoryWeld")) then
							item.Handle:FindFirstChild("AccessoryWeld"):Destroy()
						end
						item.Handle.CFrame = CFrame.lookAt(item.Handle.Position, mouse.Hit.Position)
						delay(0, function()
							local bool = true
							while (bool) do
								if (disabled) then
									bool = false
								end
								if (item.Handle) then
									item.Handle.CFrame *= CFrame.new(0, 0, 2)
								else
									bool = false
								end
								wait(0.1)
							end
						end)
					end
				end
			end
			if (hatMode == 0) then
				hatMode = 1
			else
				hatMode = 0
			end
		end]]


		if (key.KeyCode == Enum.KeyCode.V) then --Speed
			if (disabledFeature.jump) then return end
			character = player.Character
			mobility.speed = not mobility.speed
			if (mobility.speed) then
				character.Humanoid.WalkSpeed = baseSpeed * speedMulti
			else
				character.Humanoid.WalkSpeed = baseSpeed
			end
		end

		if (key.KeyCode == Enum.KeyCode.B) then --Jump
			if (disabledFeature.jump) then return end
			character = player.Character
			mobility.jump = not mobility.jump
			if (mobility.jump) then
				character.Humanoid.JumpHeight = math.floor(baseJH * jumpMulti)
				character.Humanoid.JumpPower = math.floor(baseJP * jumpMulti)
			else
				character.Humanoid.JumpHeight = baseJH
				character.Humanoid.JumpPower = baseJP
			end
		end

		if (key.KeyCode == Enum.KeyCode.L) then --Anchor
			character = player.Character
			if (not character) then return end
			if (not character:FindFirstChild("Humanoid")) then return end
			local humanoid = character.Humanoid
			anchor = not anchor
			character.PrimaryPart.Velocity = Vector3.new(0, 0, 0)
			character.PrimaryPart.RotVelocity = Vector3.new(0, 0, 0)
			character.PrimaryPart.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
			character.PrimaryPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
			anchorChar(character, anchor)
			character.ChildAdded:Connect(function(child)
				if (character:FindFirstChild("Humanoid")) then
					humanoid:UnequipTools()
				end
				if (child.Name == "ElevatorVelocity") then
					child:Destroy()
				end
			end)
		end

		if (key.KeyCode == Enum.KeyCode.J) then
			if (teleInput.Visible) then
				toggleMenuVisibility()
			end
			scroll.Visible = not scroll.Visible
			executeButton.Visible = not executeButton.Visible
		end

		--[[if (key.KeyCode == Enum.KeyCode.J) then --Silly mode
			character = player.Character
			local humanoid = character.Humanoid
			if (disabled) then return end
			silly = not silly
			if (silly) then
				while (true) do
					if (player.Character) then
						local character = player.Character
						if (character:FindFirstChild("Humanoid")) then
							local hum = character.Humanoid
							if (hum:FindFirstChild("Animator")) then
								local animator = hum.Animator
								for _, item in animator:GetPlayingAnimationTracks() do
									item:AdjustSpeed(sillyspeed)
									item.Looped = true
								end
							end
						end
					end
					if ((not silly) or disabled) then
						if (player.Character) then
							local character = player.Character
							if (character:FindFirstChild("Humanoid")) then
								local hum = character.Humanoid
								if (hum:FindFirstChild("Animator")) then
									local animator = hum.Animator
									for _, item in animator:GetPlayingAnimationTracks() do
										item:AdjustSpeed(1)
										item.Looped = false
									end
								end
							end
						end
						break
					end
					if (disabled) then break end
					wait()
				end
			else
				
			end
		end]]

		--[[if (key.KeyCode == Enum.KeyCode.J) then --Piggyback Ride
			character = player.Character
			local humanoid = character.Humanoid
			local target = mouse.Target

            if (mouse.Target == nil and stand == true) then
				if (standconnect ~= nil) then
					standconnect:Disconnect()
					standconnect = nil
					setCharCollision(character, true)
				end
				setCharCollision(character, true)
                stand = false
                return
            end
            if (mouse.Target == nil) then
                return
            end
			while (target.Parent ~= space) do
				target = target.Parent
			end
            if (not target:FindFirstChild("HumanoidRootPart")) then
                if (stand == true) then
					if (standconnect ~= nil) then
						standconnect:Disconnect()
						standconnect = nil
						setCharCollision(character, true)
					end
					setCharCollision(character, true)
                    stand = false
                end
                return
            end
			if (stand == false) then
				print("You are now getting a piggyback ride from " .. target.Name)
			end
            stand = not stand
			delay(0, function()
				setCharCollision(character, false)
				standconnect = RunService.RenderStepped:Connect(function()
					if (disabled) then
						stand = false
						setCharCollision(character, true)
						if (standconnect ~= nil) then
							standconnect:Disconnect()
							standconnect = nil
						end
					end
					if (stand) then
						if (disabled) then return end
						humanoid:SetStateEnabled("Freefall", false)
						humanoid:SetStateEnabled("Flying", true)
						humanoid.Sit = true
						workspace.Gravity = 0
						if (target:FindFirstChild("Head")) then
							character:MoveTo(target.Head.Position)
							character.HumanoidRootPart.CFrame = CFrame.new(character.HumanoidRootPart.Position, character.HumanoidRootPart.Position + target.Head.CFrame.LookVector)
							character.PrimaryPart.Velocity = Vector3.new(0, 0, 0)
							character.PrimaryPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
							character.PrimaryPart.RotVelocity = Vector3.new(0, 0, 0)
							character.PrimaryPart.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
							if (character:FindFirstChild("UpperTorso")) then--If R15
								character.HumanoidRootPart.CFrame *= CFrame.new(0, 0.9, 0.75)
							else
								character.HumanoidRootPart.CFrame *= CFrame.new(0, 1.4, 0.75)
                        	end
						end
					else
						humanoid:SetStateEnabled("Freefall", true)
						humanoid:SetStateEnabled("Flying", false)
						humanoid.Sit = false
						workspace.Gravity = baseGrav
						anchorChar(character, false)
						setCharCollision(character, true)
						if (standconnect ~= nil) then
							standconnect:Disconnect()
							standconnect = nil
						end
						return
					end
				end)
			end)
		end]]

		--[[if (key.KeyCode == Enum.KeyCode.J) then --Stand
			character = player.Character
			local humanoid = character.Humanoid
			local target = mouse.Target

            if (mouse.Target == nil and stand == true) then
				if (standconnect ~= nil) then
					standconnect:Disconnect()
					standconnect = nil
					setCharCollision(character, true)
				end
				setCharCollision(character, true)
                stand = false
                return
            end
            if (mouse.Target == nil) then
                return
            end
			while (target.Parent ~= space) do
				target = target.Parent
			end
            if (not target:FindFirstChild("HumanoidRootPart")) then
                if (stand == true) then
					if (standconnect ~= nil) then
						standconnect:Disconnect()
						standconnect = nil
						setCharCollision(character, true)
					end
					setCharCollision(character, true)
                    stand = false
                end
                return
            end
			if (stand == false) then
				print("You are now a stand for " .. target.Name)
			end
            stand = not stand
			delay(0, function()
				setCharCollision(character, false)
				standconnect = RunService.RenderStepped:Connect(function()
					if (disabled) then
						stand = false
						setCharCollision(character, true)
						if (standconnect ~= nil) then
							standconnect:Disconnect()
							standconnect = nil
						end
					end
					if (stand) then
						if (disabled) then return end
						humanoid:SetStateEnabled("Freefall", false)
						humanoid:SetStateEnabled("Flying", true)
						workspace.Gravity = 0
						if (target:FindFirstChild("HumanoidRootPart")) then
							character:MoveTo(target.HumanoidRootPart.Position)
							character.HumanoidRootPart.CFrame = CFrame.new(character.HumanoidRootPart.Position, character.HumanoidRootPart.Position + target.HumanoidRootPart.CFrame.LookVector)
							character.PrimaryPart.Velocity = Vector3.new(0, 0, 0)
							character.PrimaryPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
							character.PrimaryPart.RotVelocity = Vector3.new(0, 0, 0)
							character.PrimaryPart.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
							if (character:FindFirstChild("UpperTorso")) then--If R15
								character.HumanoidRootPart.CFrame *= CFrame.new(2.5, 1.5, 2.5)
							else
								character.HumanoidRootPart.CFrame *= CFrame.new(2.5, 1.5, 2.5)
                        	end
						end
					else
						humanoid:SetStateEnabled("Freefall", true)
						humanoid:SetStateEnabled("Flying", false)
						workspace.Gravity = baseGrav
						anchorChar(character, false)
						setCharCollision(character, true)
						if (standconnect ~= nil) then
							standconnect:Disconnect()
							standconnect = nil
						end
						return
					end
				end)
			end)
		end]]

		if (key.KeyCode == Enum.KeyCode.Semicolon) then
			if (aimbotTypeButton.Text == "Aimbot Front") then
				aimbotTypeButton.Text = "Aimbot Global"
			elseif (aimbotTypeButton.Text == "Aimbot Global") then
				aimbotTypeButton.Text = "Aimbot Front"
			end
		end
		if (key.KeyCode == Enum.KeyCode.Quote) then
			if (aimbotTeamButton.Text == "Don't Target Team") then
				aimbotTeamButton.Text = "Target Team"
			elseif (aimbotTeamButton.Text == "Target Team") then
				aimbotTeamButton.Text = "Don't Target Team"
			end
		end


		if (key.KeyCode == Enum.KeyCode.Comma) then
			FullBrightEnabled = not FullBrightEnabled
		end

		--[[]]if (key.KeyCode == Enum.KeyCode.C) then --Camera
			if (disabledFeature.camera == true) then return end
			character = player.Character
			if (mouse.Target ~= nil) then
				viewing = not viewing
				if (viewing) then
					camera.CameraSubject = mouse.Target
				else
					camera.CameraType = Enum.CameraType.Custom
					camera.CameraSubject = character.Humanoid
				end
			end
            if (mouse.Target == nil) then
                if (viewing == true) then
                    viewing = false
                    camera.CameraType = Enum.CameraType.Custom
					camera.CameraSubject = character.Humanoid
                end
            end
		end

		if (key.UserInputType == Enum.UserInputType.MouseButton2) then --Aimbot / Walk
			if (not character:FindFirstChild("Head")) then return end
			local mousePos = mouse.Hit.Position
			local distance = math.abs((character.Head.CFrame.p - camera.CFrame.p).Magnitude)
			if (distance <= 0.75 or camera.CameraType == Enum.CameraMode.LockFirstPerson) then
				aim = true
				aimconnect = RunService.RenderStepped:Connect(function()
					if (aim == false) then return end
					if (disabled) then return end
					if (getClosest()[1] ~= nil) then
						if (gameName == "BIG Paintball! ðŸ”«") then
							camera.CFrame = CFrame.new(camera.CFrame.Position,getClosest()[1].Character.Head.Position + Vector3.new(0, 0.015, 0) * getClosest()[2])
						else
							camera.CFrame = CFrame.new(camera.CFrame.Position,getClosest()[1].Character.Head.Position)
						end
					end
				end)
			else
				if (mouse.Target ~= nil) then
					--[[--player.Character.HumanoidRootPart.CFrame = CFrame.lookAt(player.Character.HumanoidRootPart.Position, Vector3.new(mouse.Hit.Position.X, 0, 0))
					player.Character.Humanoid:MoveTo(mousePos)
					local bool = true
					if (walkConnection ~= nil) then
						walkConnection:Disconnect()
						walkConnection = nil 
					end
					delay(0, function()
						walkConnection = RunService.Stepped:Connect(function()
							if (disabled) then return end
							local hrp = player.Character.HumanoidRootPart
							if ((math.abs(hrp.Position.X - mousePos.X) + math.abs(hrp.Position.Z - mousePos.Z)) < 1) then
								character.PrimaryPart.Velocity = Vector3.new(0, 0, 0)
								character.PrimaryPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
								character.PrimaryPart.RotVelocity = Vector3.new(0, 0, 0)
								character.PrimaryPart.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
								if (walkConnection ~= nil) then
									walkConnection:Disconnect()
									walkConnection = nil 
								end
							else
								player.Character.Humanoid:MoveTo(Vector3.new(mousePos.X, hrp.Position.Y, mousePos.Z))
							end
						end)
					end)]]
				end
			end
		end

		if (key.KeyCode == Enum.KeyCode.K) then
			xray = not xray
			for i = 1, #playerlist do
				local CurrentPlayer = playerlist[i]
				if (CurrentPlayer.Character and CurrentPlayer.Name ~= player.Name) then
					local highlight = xraygui:Clone()
					highlight.Parent = CurrentPlayer.Character
					highlight.Adornee = CurrentPlayer.Character
					local frame1 = xrayframe1:Clone()
					frame1.Parent = highlight
					frame1.Active = true
					local frame2 = xrayframe2:Clone()
					frame2.Parent = highlight
					frame2.Active = true
					local outline1 = xrayoutline1:Clone()
					outline1.Parent = frame1
					local outline2 = xrayoutline2:Clone()
					outline2.Parent = frame2
					if (CurrentPlayer.Character:FindFirstChild("Humanoid")) then
						CurrentPlayer.Character.Humanoid.DisplayDistanceType = Enum.HumanoidDisplayDistanceType.Subject
						CurrentPlayer.Character.Humanoid.NameDisplayDistance = math.huge
						CurrentPlayer.Character.Humanoid.HealthDisplayDistance = math.huge
					end
					delay(0, function()
						repeat wait() until not xray
						if (CurrentPlayer.Character) then
							if (CurrentPlayer.Character:FindFirstChild("Humanoid")) then
								CurrentPlayer.Character.Humanoid.NameDisplayDistance = defaultViewDistance.name
								CurrentPlayer.Character.Humanoid.HealthDisplayDistance = defaultViewDistance.health
							end
							if (CurrentPlayer.Character:FindFirstChild("BillboardGui")) then
								CurrentPlayer.Character:FindFirstChild("BillboardGui"):Destroy()
								if (CurrentPlayer.Character:FindFirstChild("BillboardGui")) then
									CurrentPlayer.Character:FindFirstChild("BillboardGui"):Destroy()
									if (CurrentPlayer.Character:FindFirstChild("BillboardGui")) then
										CurrentPlayer.Character:FindFirstChild("BillboardGui"):Destroy()
									end
								end
							end
						end
					end)
				end
			end
		end


		if (key.KeyCode == Enum.KeyCode.P) then --Floating
			floating = not floating
			if (floating) then
				space.Gravity = baseGrav * gravityMulti
			else
				space.Gravity = baseGrav
			end
		end

		if (key.KeyCode == Enum.KeyCode.F) then --Flying
			if (disabledFeature.flight) then return end
			character = player.Character
			local humanoid = character.Humanoid
			flying = not flying
			if (flying == true) then
				local bv = Instance.new("BodyVelocity", character.HumanoidRootPart)
				bv.MaxForce = Vector3.new(50000, 50000, 50000)
				local bg = Instance.new("BodyGyro", character.HumanoidRootPart)
				bg.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
				setCharCollision(character, false)
				delay(0, function()
					while (flying) do
						humanoid.PlatformStand = true
						humanoid:SetStateEnabled("Freefall", false)
						humanoid:SetStateEnabled("Flying", true)
						bg.CFrame = camera.CFrame
						character.HumanoidRootPart.CFrame = CFrame.new(character.HumanoidRootPart.Position, character.HumanoidRootPart.Position + camera.CFrame.LookVector)
						local speed = character.Humanoid.WalkSpeed
						if (flyingdir.f == true) then
							bv.Velocity = character.HumanoidRootPart.CFrame.LookVector * character.Humanoid.WalkSpeed * 4
						end
						if (flyingdir.b == true) then
							bv.Velocity = character.HumanoidRootPart.CFrame.LookVector * character.Humanoid.WalkSpeed * -4
						end
						--[[if (flyingdir.u == true) then
							character.HumanoidRootPart.CFrame = (character.HumanoidRootPart.CFrame * CFrame.new(0, speed, 0)) / 4
						end
						if (flyingdir.d == true) then
							character.HumanoidRootPart.CFrame = (character.HumanoidRootPart.CFrame * CFrame.new(0, -speed, 0)) / 4
						end
						if (flyingdir.l == true) then
							bv.Velocity += camera.CFrame.LookVector * character.Humanoid.WalkSpeed * -4
							character.HumanoidRootPart.CFrame = (character.HumanoidRootPart.CFrame* CFrame.new(-speed, 0, 0)) / 4
						end
						if (flyingdir.r == true) then
							character.HumanoidRootPart.CFrame = (character.HumanoidRootPart.CFrame* CFrame.new(speed, 0, 0)) / 4
						end]]
						local falsevariables = 0
						for i, variable in pairs(flyingdir) do
							if (variable == false) then
								falsevariables += 1
							end
						end
						if (falsevariables == 6) then
							bv.Velocity = Vector3.new(0, 0, 0)
						end
						wait(0)
					end
					setCharCollision(character, true)
					space.Gravity = baseGrav
				end)
				
			else
				if (character.HumanoidRootPart:FindFirstChild("BodyVelocity")) then
					character.HumanoidRootPart:FindFirstChild("BodyVelocity"):Destroy()
				end
				if (character.HumanoidRootPart:FindFirstChild("BodyGyro")) then
					character.HumanoidRootPart:FindFirstChild("BodyGyro"):Destroy()
				end
				humanoid.PlatformStand = false
				humanoid:SetStateEnabled("Freefall", true)
				humanoid:SetStateEnabled("Flying", false)
			end
		end

		if (key.KeyCode == Enum.KeyCode.W) then
			flyingdir.f = true
		elseif (key.KeyCode == Enum.KeyCode.S) then
			flyingdir.b = true
		elseif (key.KeyCode == Enum.KeyCode.A) then
			flyingdir.l = true
		elseif (key.KeyCode == Enum.KeyCode.D) then
			flyingdir.r = true
		elseif (key.KeyCode == Enum.KeyCode.Space) then
			flyingdir.u = true
		elseif (key.KeyCode == Enum.KeyCode.LeftControl) then
			flyingdir.d = true
		end


		if (key.KeyCode == Enum.KeyCode.H) then --Swimming
			if (disabledFeature.swimming) then return end
			character = player.Character
			local humanoid = character.Humanoid
			swimming = not swimming
			if (swimming) then
				swim = Instance.new("BodyVelocity")
				swim.Parent = character.HumanoidRootPart
				humanoid:SetStateEnabled("GettingUp", false)
				humanoid:ChangeState("Swimming")
			else
				if (swim ~= nil) then
					swim:Destroy()
					swim = nil
				end
				humanoid:SetStateEnabled("GettingUp", true)
				humanoid:SetStateEnabled("Freefall", true)
			end
		end
		--[[if (key.KeyCode == Enum.KeyCode.H) then --Spin
			spinning = not spinning
			local hrp = player.Character.HumanoidRootPart
			if (spinning) then
				spin = Instance.new("BodyThrust", hrp)
				spin.Force = Vector3.new(spinpower, 0, spinpower)
				spin.Location = player.Character.HumanoidRootPart.Position
			else
				if (spin) then
					spin:Destroy()
					spin = nil
				end
			end
		end]]

		--[[if (key.KeyCode == Enum.KeyCode.H) then
			if (disabled) then return end
			if (Controller) then
				Controller:Destroy()
				Controller = nil
			else
				Controller = GravityController.new(PLAYERS.LocalPlayer)
				Controller.GetGravityUp = GetGravityUp
			end
		end]]


		if (key.KeyCode == Enum.KeyCode.G) then
			deathPrevent = not deathPrevent
		end


		if (key.KeyCode == Enum.KeyCode.M--[[ or key.KeyCode == Enum.KeyCode.Delete]]) then
			toggleMenuVisibility()
		end


		if (key.KeyCode == Enum.KeyCode.Equals) then --Disable Script
			disableScript()
		end
	end
end)

UIS.InputEnded:Connect(function(key)
	if (disabled) then return end
	if (true) then
		if (key.KeyCode == Enum.KeyCode.W) then
			flyingdir.f = false
		elseif (key.KeyCode == Enum.KeyCode.S) then
			flyingdir.b = false
		elseif (key.KeyCode == Enum.KeyCode.A) then
			flyingdir.l = false
		elseif (key.KeyCode == Enum.KeyCode.D) then
			flyingdir.r = false
		elseif (key.KeyCode == Enum.KeyCode.Space) then
			flyingdir.u = false
		elseif (key.KeyCode == Enum.KeyCode.LeftControl) then
			flyingdir.d = false
		end
	end
	if (key.UserInputType == Enum.UserInputType.MouseButton2) then
		if (player.CameraMode == Enum.CameraMode.LockFirstPerson) then
			--player.Character.Humanoid:MoveTo(player.Character.PrimaryPart.Position)
		end
		if (aim) then
			aim = false
		end
		if (aimconnect) then
			aimconnect:Disconnect()
		end
	end
end)

function toggleMenuVisibility()
	teleInput.Visible = not teleInput.Visible
	teleButton.Visible = not teleButton.Visible
	playerTeleTypeButton.Visible = not playerTeleTypeButton.Visible
	speedInput.Visible = not speedInput.Visible
	jumpInput.Visible = not jumpInput.Visible
	gravityInput.Visible = not gravityInput.Visible
	frictionInput.Visible = not frictionInput.Visible
	snapInput.Visible = not snapInput.Visible
	snapTypeButton.Visible = not snapTypeButton.Visible
	giveToolButton.Visible = not giveToolButton.Visible
	aimbotTypeButton.Visible = not aimbotTypeButton.Visible
	aimbotTeamButton.Visible = not aimbotTeamButton.Visible
	deathPrevTypeButton.Visible = not deathPrevTypeButton.Visible
	teleportTypeButton.Visible = not teleportTypeButton.Visible
	inversePropertiesButton.Visible = not inversePropertiesButton.Visible
	deleteTypeButton.Visible = not deleteTypeButton.Visible
	toggleFullBright.Visible = not toggleFullBright.Visible
	togglePlayerCollision.Visible = not togglePlayerCollision.Visible
	scroll.Visible = false
	executeButton.Visible = false
	
	if (teleInput.Visible == true) then
		if (player.CameraMode == Enum.CameraMode.LockFirstPerson) then
			menuCam.firstPerson = true
			player.CameraMode = Enum.CameraMode.Classic
			player.CameraMaxZoomDistance = 5
			player.CameraMinZoomDistance = 5
			player.CameraMaxZoomDistance = 128
			player.CameraMinZoomDistance = 0.5
		end
	else
		if (menuCam.firstPerson == true) then
			player.CameraMode = Enum.CameraMode.LockFirstPerson
		end
		player.CameraMaxZoomDistance = menuCam.oldMaxZoom
		player.CameraMinZoomDistance = menuCam.oldMinZoom
	end
end

function setHealth(humanoid)
	humanoid.MaxHealth = 1/0
	humanoid.Health = humanoid.MaxHealth
end

function anchorChar(character, bool)
	for _,item in ipairs(character:GetDescendants()) do
    	if item:IsA("BasePart") then
    		item.Anchored = bool
    	end
	end
end

function canQuery(model, bool)
	for _,item in ipairs(character:GetDescendants()) do
    	if item:IsA("BasePart") then
    		item.CanQuery = bool
    	end
	end
end

function setCharCollision(char, bool)
	for _,item in game.Workspace:GetDescendants() do
		if (not item:IsDescendantOf(player.Character)) then
			if (item:IsA("BasePart")) then
				if (bool == false) then
					item.CanCollide = false
					--item.CanTouch = false
				else
					if (item:GetAttribute("ScriptCantCollide") == nil) then
						item.CanCollide = true
					end
					if (item:IsA("Seat") or item.ClassName == "Seat") then
						item.CanTouch = true
					end
				end
			end
		end
	end
	for _, item in char:GetChildren() do
		if (string.find(string.lower(item.Name), "foot") or string.find(string.lower(item.Name), "leg")) then
			item.CanTouch = true
		end
	end
	if (not flying) then
		if (workspace:FindFirstChild(player.Name .. "ScriptPlatform")) then
			workspace:FindFirstChild(player.Name .. "ScriptPlatform").CanCollide = true
		end
	end
end

function platformCollision(char, bool)
	for _,item in ipairs(game.Workspace:GetDescendants()) do
		if (item:IsA("BasePart")) then
			item.CanCollide = bool
			if (not item:IsA("Seat")) then
				item.CanTouch = false
			end
			item:GetPropertyChangedSignal("CanCollide"):Connect(function()
				if (item.Name == player.Name .. "ScriptPlatform") then return end
				if (platform) then
					if (item.CanCollide == true) then
						item.CanCollide = false
					end
				end
			end)
		end
	end
	for _,item in ipairs(character:GetDescendants()) do
		if (item:IsA("BasePart")) then
			item.CanCollide = false
		end
	end
	if (not flying) then
		if (workspace:FindFirstChild(player.Name .. "ScriptPlatform")) then
			workspace:FindFirstChild(player.Name .. "ScriptPlatform").CanCollide = true
		end
	end
end

function togglePlayerHighlight(character, bool)
	if (bool) then
		local highlight = Instance.new("Highlight")
		highlight.Name = "ScriptHighlight"
		highlight.Adornee = character
		highlight.Enabled = true
		highlight.FillColor = Color3.fromRGB(175, 80, 255)
		highlight.FillTransparency = 0.5
		highlight.OutlineColor = Color3.new(140, 90, 190)
		highlight.OutlineTransparency = 0.1
		highlight.Parent = character
	else
		if (character:FindFirstChild("ScriptHighlight")) then
			character:FindFirstChild("ScriptHighlight").Enabled = false
			character:FindFirstChild("ScriptHighlight"):Destroy()
		end
	end
end

function togglePlayerHud(character, bool)
	if (bool) then
		local billboard = Instance.new("BillboardGui")
		billboard.Name = "ScriptHud"
		billboard.Active = true
		billboard.Adornee = character.HumanoidRootPart
		billboard.AlwaysOnTop = true
		billboard.Brightness = 1
		billboard.Size = UDim2.new(4, 2)
		billboard.StudsOffset = Vector3.new(0, 10, 0)
		--Finish
	else
		if (character:FindFirstChild("ScriptHud")) then
			character:FindFirstChild("ScriptHud").Active = false
			character:FindFirstChild("ScriptHud"):Destroy()
		end
	end
end

function getClosest()
	local closestPlayer = nil
	local closestDist = math.huge
	for i,item in playerlist do
		if (item ~= player) then
			local attacked = item.Character
			local attacker = player.Character
			local dist
			local displacementVector
			local direction
			if (item.Character) then
				if (item.Character:FindFirstChild("HumanoidRootPart")) then
					displacementVector = attacked.HumanoidRootPart.Position - attacker.HumanoidRootPart.Position
					direction = displacementVector.Unit
					if (item.Character:FindFirstChild("HumanoidRootPart")) then
						dist = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - item.Character.HumanoidRootPart.Position).Magnitude
					end
				end
			end
			if (dist) then
				if (dist < closestDist) then
					if (item.Character.Humanoid.Health > 0) then
						if (player.Team == nil or player.Team ~= item.Team or not aimTeam) then
							if (aimMode == "Aimbot Front") then
								local attackerLV = attacker.HumanoidRootPart.CFrame.LookVector
								local angle = math.acos(attackerLV:Dot(direction))
								if (angle <= math.rad(30) and angle >= math.rad(-30)) then
									closestDist = dist
									closestPlayer = item
								end
							elseif (aimMode == "Aimbot Global") then
								closestDist = dist
								closestPlayer = item
							end
						end
					end
				end
			end
		end
	end
	return {closestPlayer, closestDist}
end

function getMass(model)
    assert(model and model:IsA("Model"), "Model argument of getMass must be a model.");
    local mass = 0;
    for i,v in pairs(model:GetDescendants()) do
        if(v:IsA("BasePart")) then
            mass += v.Mass;
        end
    end
    return mass;
end


aimbotTypeButton.Activated:Connect(function() --Aimbot Range Type
	if (aimbotTypeButton.Text == "Aimbot Front") then
		aimbotTypeButton.Text = "Aimbot Global"
	elseif (aimbotTypeButton.Text == "Aimbot Global") then
		aimbotTypeButton.Text = "Aimbot Front"
	end
end)
aimbotTeamButton.Activated:Connect(function() --Aimbot Filter Type
	if (aimbotTeamButton.Text == "Aimbot All") then
		aimbotTeamButton.Text = "Aimbot Other Team"
	elseif (aimbotTeamButton.Text == "Aimbot Other Team") then
		aimbotTeamButton.Text = "Aimbot All"
	end
end)

deathPrevTypeButton.Activated:Connect(function() --Death Prev Type
	if (deathPrevTypeButton.Text == "Death Prev. Any") then
		deathPrevTypeButton.Text = "Death Prev. Ground"
	elseif (deathPrevTypeButton.Text == "Death Prev. Ground") then
		deathPrevTypeButton.Text = "Death Prev. Any"
	end
end)

teleportTypeButton.Activated:Connect(function() --TP Type
	if (teleportTypeButton.Text == "TP Exact") then
		teleportTypeButton.Text = "TP Top"
	elseif (teleportTypeButton.Text == "TP Top") then
		teleportTypeButton.Text = "TP Exact"
	end
end)

inversePropertiesButton.Activated:Connect(function() --Inverted Property Type
	if (inversePropertiesButton.Text == "Inverse Collision") then
		inversePropertiesButton.Text = "Inverse Anchor"
		inverseMode = "Inverse Anchor"
	elseif (inversePropertiesButton.Text == "Inverse Anchor") then
		inversePropertiesButton.Text = "Inverse Touch"
		inverseMode = "Inverse Touch"
	elseif (inversePropertiesButton.Text == "Inverse Touch") then
		inversePropertiesButton.Text = "Inverse Collision"
		inverseMode = "Inverse Collision"
	end
	inverseMode = inversePropertiesButton.Text
end)


deleteTypeButton.Activated:Connect(function() --Delete Type
	if (deleteTypeButton.Text == "Temp Delete") then
		deleteTypeButton.Text = "Perm Delete"
	elseif (deleteTypeButton.Text == "Perm Delete") then
		deleteTypeButton.Text = "Temp Delete"
	end
end)


snapTypeButton.Activated:Connect(function() --Snap Type
	if (snapTypeButton.Text == "Part") then
		snapTypeButton.Text = "Truss"
	elseif (snapTypeButton.Text == "Truss") then
		snapTypeButton.Text = "TP Part"
	elseif (snapTypeButton.Text == "TP Part") then
		snapTypeButton.Text = "Part"
	end
end)

giveToolButton.Activated:Connect(function()
	loadstring(game:HttpGet("https://pastebin.com/raw/4wQJVUZw", true))()
end)


playerTeleTypeButton.Activated:Connect(function()
	if (playerTeleTypeButton.Text == "Exact Position") then
		playerTeleTypeButton.Text = "Behind Player"
	else
		playerTeleTypeButton.Text = "Exact Position"
	end
end)

teleButton.Activated:Connect(function() --Player TP
	if (not player.Character) then return end
	if (not player.Character:FindFirstChild("HumanoidRootPart")) then return end
	for _,item in ipairs(space:GetChildren()) do
    	if (string.lower(item.Name) == string.lower(teleInput.Text)) then
			if (item:FindFirstChild("HumanoidRootPart") and player.Character:FindFirstChild("HumanoidRootPart")) then
				local bool = character.HumanoidRootPart.Anchored
				anchorChar(character, false)
				delay(0.05, function()
					if (teleportTypeButton.Text == "TP Exact") then
						if (playerTeleTypeButton.Text == "Behind Player") then
							character.HumanoidRootPart.CFrame = item.HumanoidRootPart.CFrame * CFrame.new(0, 0, 2)
						else
							character.HumanoidRootPart.CFrame = item.HumanoidRootPart.CFrame
						end
					elseif (teleportTypeButton.Text == "TP Top") then
						if (playerTeleTypeButton.Text == "Behind Player") then
							character:MoveTo(item.HumanoidRootPart.Position + item.HumanoidRootPart.CFrame.LookVector * -2)
						else
							character:MoveTo(item.HumanoidRootPart.Position)
						end
					end
					anchorChar(character, bool)
				end)
			end
		end
	end
end)

teleInput:GetPropertyChangedSignal("Text"):Connect(function() --Player TP Input Autofill
	local PartialName = teleInput.Text
	if (PartialName == "") then return end
	local foundPlayer
	local Players = game.Players:GetPlayers()
	for i = 1, #Players do
		local CurrentPlayer = Players[i]
		if string.lower(CurrentPlayer.Name):sub(1, #PartialName) == string.lower(PartialName) then
			if (foundPlayer) then
				return
			else
				foundPlayer = CurrentPlayer.Name
			end
		end
	end
	if (foundPlayer) then
		teleInput.Text = foundPlayer
		teleInput.CursorPosition = string.len(teleInput.Text) + 1
	end
end)

frictionInput:GetPropertyChangedSignal("Text"):Connect(function()
	if (tonumber(frictionInput.Text)) then
		for _, item in workspace:GetDescendants() do
			if (item:IsA("BasePart")) then
				local prop = item.CurrentPhysicalProperties
				local density = prop.Density
				local friction = 2 * (tonumber(frictionInput.Text) / 100)
				local frictionweight = math.huge
				local elasticity = prop.Elasticity
				local elasticityweight = prop.ElasticityWeight
				item.CustomPhysicalProperties = PhysicalProperties.new(density, friction, elasticity, frictionweight, elasticityweight)
			end
		end
	end
end)


toggleFullBright.Activated:Connect(function()
	FullBrightEnabled = not FullBrightEnabled
end)

togglePlayerCollision.Activated:Connect(function()
	if (togglePlayerCollision.Text == "Player Collision Enabled") then
		togglePlayerCollision.Text = "Player Collision Disabled"
		for k, item in headCollisions do
			if (item) then
				item:Destroy()
			end
		end
		for k, item in torsoCollisions do
			if (item) then
				item:Destroy()
			end
		end
	elseif (togglePlayerCollision.Text == "Player Collision Disabled") then
		togglePlayerCollision.Text = "Player Collision Enabled"
		for k, item in playerlist do
			delay(0, function()
				char = item.Character
				if (char) then
					addPlayerCollisions(char)
				end
			end)
		end
	end
end)

executeInput:GetPropertyChangedSignal("Text"):Connect(function()
	executeInput.Text = executeInput.Text:gsub("\r", "")
end)

executeButton.Activated:Connect(function()
	code = executeInput.Text
	--% is escape character for ( and )

	--Functions
	code = 'function say(msg)\nRS.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")\nend\n' .. code
	code = code:gsub('setVC%(camera%)', 'SS:SetListener(Enum.ListenerType.Camera, nil)')
	code = code:gsub('setVC%(', 'SS:SetListener(Enum.ListenerType.ObjectPosition, ')

	--Variables
	code = code:gsub('humanoid', 'character:FindFirstChild("Humanoid")')
	code = code:gsub('head', 'character:FindFirstChild("Head")')
	code = code:gsub('hrp', 'character:FindFirstChild("HumanoidRootPart")')
	code = code:gsub('character', 'player.Character')
	code = code:gsub('mouse', 'player:GetMouse()')
	code = code:gsub('camera', 'workspace.CurrentCamera')
	code = code:gsub('backpack', 'player.Backpack')
	code = code:gsub('player', 'players.LocalPlayer')
	code = code:gsub('players', 'game:GetService("Players")')
	code = code:gsub('UIS', 'game:GetService("UserInputService")')
	code = code:gsub('RS', 'game:GetService("ReplicatedStorage")')
	code = code:gsub('RunService', 'game:GetService("RunService")')
	code = code:gsub('SS', 'game:GetService("SoundService")')

	loadstring(code)()
end)



function deathPrevention()
	if (disabled) then return end
	repeat wait() until character.Humanoid.Health > 0
	repeat wait() until character:FindFirstChild("HumanoidRootPart")
	wait(0.5)
	local anchored = character.HumanoidRootPart.Anchored
	anchorChar(character, false)
	character.PrimaryPart.Velocity = Vector3.new(0, 0, 0)
	character.PrimaryPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
	character.PrimaryPart.RotVelocity = Vector3.new(0, 0, 0)
	character.PrimaryPart.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
	wait(0.25)
	character.HumanoidRootPart.CFrame = (deathPosition)
	anchorChar(character, anchored)
	deathTP = false
	print("Death Circumvented")
	if (swimming) then
		swim = Instance.new("BodyVelocity")
		swim.Parent = character.HumanoidRootPart
		character:FindFirstChild("Humanoid"):SetStateEnabled("GettingUp", false)
		character:FindFirstChild("Humanoid"):ChangeState("Swimming")
	end
end

if (not disabledFeature.mask) then
	if (character:FindFirstChild("PlagueMaskBlush")) then
		if (character:FindFirstChild("PlagueMaskBlush"):FindFirstChild("Handle")) then
			character:FindFirstChild("PlagueMaskBlush").Handle:Destroy()
		end
	end
end

player.CharacterAdded:Connect(function(char)
	if (disabled) then return end
	anchor = false
	character = char
	delay(0, function()
		repeat wait() until character:FindFirstChild("Humanoid")
		repeat wait() until character:FindFirstChild("HumanoidRootPart")
		repeat wait() until character:FindFirstChild("Head")
		repeat wait() until character:FindFirstChild("Head"):FindFirstChild("face")
		if (invisible) then
			invisible = false
			if (player.Character) then
				if (player.Character:FindFirstChild("Humanoid") and player.Character:FindFirstChild("HumanoidRootPart")) then
					camera.CameraSubject = player.Character.Humanoid
					player.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0, -1100, 0)
					player.Character.Humanoid.HipHeight = 2
				end
			end
			if (workspace:FindFirstChild("invisibilityPart")) then
				workspace:FindFirstChild("invisibilityPart"):Destroy()
			end
		end
		if (not disabledFeature.face) then
			character.Head.face:Destroy()
		end
		if (not disabledFeature.mask) then
			if (mask == 1) then
				if (character:FindFirstChild("PlagueMaskBlush")) then
					character:FindFirstChild("PlagueMaskBlush").Handle:Destroy()
				end
			elseif (mask == 2) then
				if (character:FindFirstChild("Meshes/Black plague maskAccessory")) then
					character:FindFirstChild("Meshes/Black plague maskAccessory").Handle:Destroy()
				end
			end
		end
		changedSignalsSetup()
		if (mobility.speed) then
			character.Humanoid.WalkSpeed = baseSpeed * speedMulti
		end
		if (mobility.jump) then
			character.Humanoid.JumpHeight = baseJH * jumpMulti
			character.Humanoid.JumpPower = baseJP * jumpMulti
		end
		--[[delay(0.5, function()
			if (gameName == "Prison Life") then
				local weapons = {
					"AK-47",
					"Remington 870"
				}
				for i, v in pairs(game.Workspace["Prison_ITEMS"].giver:GetChildren()) do
					for j, k in pairs(weapons) do
						if v.Name == k then
							v:MoveTo(game.Players.LocalPlayer.Character.HumanoidRootPart.Position)
						end
					end
				end
			end
		end)]]
	end)
	if (not deathPosition) then return end
	if (not deathPrevent) then return end
	deathTP = true
	repeat wait() until character:FindFirstChild("Humanoid")
	deathPrevention()
end)


delay(0.1, function()
	while (true) do
		if (disabled) then break end
		if (player.Character) then
			if (not character:FindFirstChild("Humanoid")) then
				repeat wait() until character:FindFirstChild("Humanoid")
			end
			if (character.Humanoid.Health > 0 and character:FindFirstChild("HumanoidRootPart")) then
				if (not deathTP) then
					if (deathPrevTypeButton.Text == "Death Prev. Any") then
						deathPosition = character.HumanoidRootPart.CFrame
					elseif (deathPrevTypeButton.Text == "Death Prev. Ground") then
						if (character.Humanoid.FloorMaterial ~= Enum.Material.Air) then
							deathPosition = character.HumanoidRootPart.CFrame
						end
					end
				end
			end
		end

		aimMode = aimbotTypeButton.Text
		if (aimbotTeamButton.Text == "Aimbot Other Team") then
			aimTeam = true
		else
			aimTeam = false
		end
		if (speedInput.Text ~= "") then
			speedMulti = tonumber(speedInput.Text)
		else
			speedMulti = 10
		end
		if (jumpInput.Text ~= "") then
			jumpMulti = tonumber(jumpInput.Text)
		else
			jumpMulti = 5
		end
		if (gravityInput.Text ~= "") then
			gravityMulti = tonumber(gravityInput.Text)
		else
			gravityMulti = 0
		end
		if (snapInput.Text ~= "") then
			if (tonumber(snapInput.Text) > 64) then
				snapInput.Text = "64"
			elseif (snapTypeButton.Text == "TP Part") then
				snapInput.Text = "1"
			end
			snap = tonumber(snapInput.Text)
		else
			snap = 2
		end
		if (Frame.Position.X.Offset > 0) then
			Frame.Position = UDim2.new(Frame.Position.X.Scale, 0, Frame.Position.Y.Scale, Frame.Position.Y.Offset)
		end
		if (Frame.Position.Y.Offset > 0) then
			Frame.Position = UDim2.new(Frame.Position.X.Scale, Frame.Position.X.Offset, Frame.Position.Y.Scale, 0)
		end
		if (-Frame.Position.X.Offset + Frame.AbsoluteSize.X > SGUI.AbsoluteSize.X) then
			Frame.Position = UDim2.new(Frame.Position.X.Scale, -(SGUI.AbsoluteSize.X - Frame.AbsoluteSize.X), Frame.Position.Y.Scale, Frame.Position.Y.Offset)
		end
		if (-Frame.Position.Y.Offset + Frame.AbsoluteSize.Y > SGUI.AbsoluteSize.Y) then
			Frame.Position = UDim2.new(Frame.Position.X.Scale, Frame.Position.X.Offset, Frame.Position.Y.Scale, -(SGUI.AbsoluteSize.Y - Frame.AbsoluteSize.Y))
		end
		if (Frame.TextLabel) then
			if (platform) then
				Frame.TextLabel.Text =  "= - Close Script\nM - Open menu\nJ - Open scripter\nT - Teleport\nK - ESP\nZ - Place Part\nX - Delete Part\n" .. "F - Fly" .. tostring(flying) .. "\nH - Swimming: " .. tostring(swimming) .. "\nV - Speed: " .. tostring(mobility.speed) .. "\nB - Jump: " .. tostring(mobility.jump) .. "\nL - Anchored: " .. tostring(anchor) .. "\nP - Gravity: " .. tostring(floating) .. "\nG - Death Prev.: ".. tostring(deathPrevent) .. "\nN - Noclip: " .. tostring(platform) .. " " .. tostring(platformAcc) .. "\n] / [ - Up/Down w/ Noclip\nU - Invisible: " .. tostring(invisible)
			else
				Frame.TextLabel.Text =  "= - Close Script\nM - Open menu\nJ - Open scripter\nT - Teleport\nK - ESP\nZ - Place Part\nX - Delete Part\n" .. "F - Fly" .. tostring(flying) .. "\nH - Swimming: " .. tostring(swimming) .. "\nV - Speed: " .. tostring(mobility.speed) .. "\nB - Jump: " .. tostring(mobility.jump) .. "\nL - Anchored: " .. tostring(anchor) .. "\nP - Gravity: " .. tostring(floating) .. "\nG - Death Prev.: ".. tostring(deathPrevent) .. "\nN - Noclip: " .. tostring(platform).. "\n] / [ - Up/Down w/ Noclip\nU - Invisible: " .. tostring(invisible)
			end
		end
		wait(0.1)
	end
end)

delay(1, function()
	while (true) do
		if (FullBrightEnabled) then
			lighting.Brightness = 1
			lighting.FogEnd = 786543
			lighting.GlobalShadows = false
			lighting.Ambient = Color3.fromRGB(178, 178, 178)
		else
			lighting.Brightness = NormalLightingSettings.Brightness
			lighting.FogEnd = NormalLightingSettings.FogEnd
			lighting.GlobalShadows = NormalLightingSettings.GlobalShadows
			lighting.Ambient = NormalLightingSettings.Ambient
		end
		if (disabled) then break end
		wait(0.5)
	end
end)


function changedSignalsSetup()
	character.Humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(function()
		if (disabled) then return end
		if (mobility.speed) then
			if (character.Humanoid.WalkSpeed ~= --[[math.floor]](baseSpeed * speedMulti)) then
				character.Humanoid.WalkSpeed = --[[math.floor]](baseSpeed * speedMulti)
			end
		end
	end)
	character.Humanoid:GetPropertyChangedSignal("JumpHeight"):Connect(function()
		if (disabled) then return end
		if (mobility.jump) then
			if (character.Humanoid.JumpHeight ~= --[[math.floor]](baseJH * jumpMulti)) then
				character.Humanoid.JumpHeight = --[[math.floor]](baseJH * jumpMulti)
			end
		end
	end)
	character.Humanoid:GetPropertyChangedSignal("JumpPower"):Connect(function()
		if (disabled) then return end
		if (mobility.jump) then
			if (character.Humanoid.JumpPower ~= math.floor(baseJP * jumpMulti)) then
				character.Humanoid.JumpPower = math.floor(baseJP * jumpMulti)
			end
		end
	end)
	space:GetPropertyChangedSignal("Gravity"):Connect(function()
		if (disabled) then return end
		if (floating) then
			if (space.Gravity ~= baseGrav * gravityMulti) then
				space.Gravity = baseGrav * gravityMulti
			end
		end
	end)
end
changedSignalsSetup()


function roundNum(num, to)
	local divided = num / to
    local rounded = to * math.floor(divided)
	return rounded
end

function cpart(p)
	local rp = Instance.new("Part")
	rp.Name = "colpart"
	rp.Size = p.Size/1.4
	rp.Massless = true 				
	rp.CFrame = p.CFrame 
	rp.Transparency = 1
	rp.Parent = p
	local wc = Instance.new("WeldConstraint",rp)
	wc.Part0 = rp 
	wc.Part1 = p 
end



function removeArms(left, right)
	if (disabled) then return end
	if (character:FindFirstChild("UpperTorso")) then
		for _,item in character:GetChildren() do
			if (string.find(item.Name, "Arm") or string.find(item.Name, "Hand")) then
				if (left and string.find(item.Name, "Left")) then
					item:Destroy()
				elseif (right and string.find(item.Name, "Right")) then
					item:Destroy()
				end
			end
		end
	else
		if (left and character:FindFirstChild("Left Arm")) then
			character:FindFirstChild("Left Arm"):Destroy()
		end
		if (right and character:FindFirstChild("Right Arm")) then
			character:FindFirstChild("Right Arm"):Destroy()
		end
	end
end

function removeLegs(left, right)
	if (disabled) then return end
	if (character:FindFirstChild("UpperTorso")) then
		for _,item in character:GetChildren() do
			if (string.find(item.Name, "Leg") or string.find(item.Name, "Foot")) then
				if (left and string.find(item.Name, "Left")) then
					item:Destroy()
				elseif (right and string.find(item.Name, "Right")) then
					item:Destroy()
				end
			end
		end
	else
		if (left and character:FindFirstChild("Left Leg")) then
			character:FindFirstChild("Left Leg"):Destroy()
		end
		if (right and character:FindFirstChild("Right Leg")) then
			character:FindFirstChild("Right Leg"):Destroy()
		end
	end
end



function slowMode()
	speedInput.Text = 0.05 --0.05
	jumpInput.Text = 0.005 --0.005
	gravityInput.Text = 0.01 --0.01
end

if (slow) then
	slowMode()
end

function round(num, numDecimalPlaces)
  local mult = 10^(numDecimalPlaces or 0)
  return math.floor(num * mult + 0.5) / mult
end






function disableScript()
	print("Calavyr's General Script Deactivated")
	if (player.PlayerGui:FindFirstChild("ScriptGUI")) then
		player.PlayerGui:FindFirstChild("ScriptGUI"):Destroy()
	end
	fullBrightEnabled = false
	platform = false
	xray = false
	lighting.Brightness = NormalLightingSettings.Brightness
	lighting.FogEnd = NormalLightingSettings.FogEnd
	lighting.GlobalShadows = NormalLightingSettings.GlobalShadows
	lighting.Ambient = NormalLightingSettings.Ambient
	script.Name = "Disabled Client"
	mobility.speed = false
	mobility.jump = false
	player.Character.Humanoid.WalkSpeed = baseSpeed
	player.Character.Humanoid.JumpHeight = baseJH
	player.Character.Humanoid.JumpPower = baseJP
	if (workspace:FindFirstChild(player.Name .. "ScriptPlatform")) then
		workspace:FindFirstChild(player.Name .. "ScriptPlatform"):Destroy()
	end
	if (swim ~= nil) then
		swim:Destroy()
		swim = nil
	end
	if (standconnect ~= nil) then
		standconnect:Destroy()
		standconnect = nil
	end
	character.Humanoid:SetStateEnabled("GettingUp", true)
	character.Humanoid:SetStateEnabled("Freefall", true)
	character.Humanoid:SetStateEnabled("Flying", false)
	character.Humanoid.PlatformStand = false
	if (Controller) then
		Controller:Destroy()
		Controller = nil
	end
	if (invisible) then
		invisible = false
		if (player.Character) then
			if (player.Character:FindFirstChild("Humanoid") and player.Character:FindFirstChild("HumanoidRootPart")) then
				camera.CameraSubject = player.Character.Humanoid
				player.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0, -1100, 0)
				player.Character.Humanoid.HipHeight = 2
			end
		end
		if (workspace:FindFirstChild("invisibilityPart")) then
			workspace:FindFirstChild("invisibilityPart"):Destroy()
		end
	end
	disabled = true
	setCharCollision(character, true)
	workspace.Gravity = baseGrav
	for _, item in headCollisions do
		if (item) then
			item:Destroy()
		end
	end
	for _, item in torsoCollisions do
		if (item) then
			item:Destroy()
		end
	end
end
